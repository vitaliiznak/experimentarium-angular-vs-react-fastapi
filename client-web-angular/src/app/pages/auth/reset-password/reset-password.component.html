<app-auth-form>
  <h2>Reset Password</h2>
  <p class="description">Please enter your new password below.</p>

  <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
    <div *ngIf="error" class="error-alert">
      {{ error }}
    </div>

    <div *ngIf="success" class="success-alert">
      {{ success }}
    </div>

    <app-form-field
      label="New Password"
      type="password"
      fieldId="password"
      controlName="password"
      placeholder="Enter your new password"
      [form]="resetForm"
      [showError]="shouldShowError('password')"
      [errorMessage]="getPasswordErrorMessage()"
    ></app-form-field>

    <app-form-field
      label="Confirm Password"
      type="password"
      fieldId="confirmPassword"
      controlName="confirmPassword"
      placeholder="Confirm your new password"
      [form]="resetForm"
      [showError]="shouldShowError('confirmPassword')"
      [errorMessage]="getConfirmPasswordErrorMessage()"
    ></app-form-field>

    <button type="submit" [disabled]="resetForm.invalid || isLoading">
      <span *ngIf="!isLoading">Reset Password</span>
      <span *ngIf="isLoading">
        <i class="fas fa-spinner fa-spin"></i> Resetting...
      </span>
    </button>

    <p class="login-link">
      Remember your password? <a routerLink="/auth/login">Login</a>
    </p>
  </form>
</app-auth-form>